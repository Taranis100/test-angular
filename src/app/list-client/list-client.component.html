<div class="container">
  <h1 class="page-title">Elenco Clienti</h1>

  <!-- Bottone per tornare alla home -->
  <button class="return-home-btn" routerLink="/login">Torna al Menu</button>

  <!-- Messaggio di benvenuto -->
  <div class="welcome-message">
    Benvenuto nella gestione dei clienti!
  </div>

  <!-- Form di aggiunta/modifica utente -->
  <div class="form-container interactive-section">
    <form [formGroup]="userForm" (ngSubmit)="saveUser()">
      <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="nome" placeholder="Inserisci il nome" required>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Cognome</mat-label>
          <input matInput formControlName="cognome" placeholder="Inserisci il cognome" required>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Data di Nascita</mat-label>
          <input matInput formControlName="data_nascita" type="date" required>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Azienda</mat-label>
          <input matInput formControlName="azienda" placeholder="Inserisci l'azienda" required>
        </mat-form-field>
      </div>

      <div class="form-actions">
        <button mat-raised-button type="submit" class="add-user-btn">Salva</button>
        <button mat-button (click)="cancelEdit()" class="cancel-btn">Annulla</button>
      </div>
    </form>
  </div>

  <!-- Tabella utenti -->
  <div class="table-container">
    <table mat-table [dataSource]="users" class="user-table">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let user">{{user.id}}</td>
      </ng-container>

      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let user">{{user.nome}}</td>
      </ng-container>

      <ng-container matColumnDef="cognome">
        <th mat-header-cell *matHeaderCellDef>Cognome</th>
        <td mat-cell *matCellDef="let user">{{user.cognome}}</td>
      </ng-container>

      <ng-container matColumnDef="data_nascita">
        <th mat-header-cell *matHeaderCellDef>Data di Nascita</th>
        <td mat-cell *matCellDef="let user">{{user.data_nascita | date}}</td>
      </ng-container>

      <ng-container matColumnDef="azienda">
        <th mat-header-cell *matHeaderCellDef>Azienda</th>
        <td mat-cell *matCellDef="let user">{{user.azienda}}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Azioni</th>
        <td mat-cell *matCellDef="let user">
          <div class="action-buttons">
            <button mat-button class="edit-button" (click)="editUser(user)">Modifica</button>
            <button mat-button class="delete-button" (click)="deleteUser(user.id)">Elimina</button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
